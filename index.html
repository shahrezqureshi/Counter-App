<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="theme-color" content="#FFFFFF" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="style.css">
        <script type="text/javascript" src="darkmode.js" defer></script>
        <link rel="manifest" href="manifest.json"/>
        <link rel="icon" type="image/x-icon" href="/assets/favicon-16.png">
        <title>The Counter</title>
        <script>
            if ('serviceWorker' in navigator) {
                // Register Service Worker on page load (if not registered before)
                self.addEventListener('load', async () => {
                    const container = navigator.serviceWorker;
                    container.addEventListener(
                        'controllerchange',
                        () => console.log(`SW is changed (installed or removed).`)
                    );
                    if (container.controller === null) {
                        console.log(`Register new SW for the app.`);
                        await container.register('sw.js');
                        console.log(`SW is registered.`);
                    } else console.log(`SW is already registered.`);
                });
            }
        </script>
    </head>

    <body>
        
    <!-- Save and Reset Modals -->
        <div class="save_modal" id="save_modal">
            <div class="save_modal_dialog" id="save_modal_dialog">
                The counter has been saved.
            </div>
        </div>

        <div class="reset_modal" id="reset_modal">
            <div class="reset_modal_dialog" id="reset_modal_dialog">
                <p>Click here again to reset!</p>
            </div>
        </div>

    <!-- Main Flex Container for Theme Switch, Counter Display, and Buttons -->
        <div class="flex_container">

            <!-- Theme Switch Button -->
            <div class="top_container">
                <button id="theme_switch">
                    <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#000000"><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q8 0 17 .5t23 1.5q-36 32-56 79t-20 99q0 90 63 153t153 63q52 0 99-18.5t79-51.5q1 12 1.5 19.5t.5 14.5q0 150-105 255T480-120Zm0-60q109 0 190-67.5T771-406q-25 11-53.67 16.5Q688.67-384 660-384q-114.69 0-195.34-80.66Q384-545.31 384-660q0-24 5-51.5t18-62.5q-98 27-162.5 109.5T180-480q0 125 87.5 212.5T480-180Zm-4-297Z"/></svg>
                    <svg xmlns="http://www.w3.org/2000/svg" height="48px" viewBox="0 -960 960 960" width="48px" fill="#FFFFFF"><path d="M480-340q58 0 99-41t41-99q0-58-41-99t-99-41q-58 0-99 41t-41 99q0 58 41 99t99 41Zm0 60q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-450H40v-60h160v60Zm720 0H760v-60h160v60ZM450-760v-160h60v160h-60Zm0 720v-160h60v160h-60ZM262-658l-100-97 43-44 96 100-39 41Zm494 496-98-100 41-41 99 98-42 43Zm-99-537 98-99 44 42-99 98-43-41ZM162-205l99-98 42 42-98 99-43-43Zm318-275Z"/></svg>
                </button>
            </div>
                        
            <!-- Counter Display and Incerment Buttton -->
            <div class="display_container" id="display_container">
                <h1 class="display_counter" id="displayCounter">0</h1>
            </div>

            <!-- Save and Reset Buttons -->
            <div class="mid_container">
                <div class="save_wrapper">
                    <h1 class="emph_btn" id="displaySave">Save</h1>
                </div>
                
                <div class="reset_wrapper">
                    <h1 class="normal_btn" id="displayReset">Reset</h1>
                </div>
            </div>
        </div>

        <script rel="text/javascript" src="index.js"></script>

    </body>

</html>